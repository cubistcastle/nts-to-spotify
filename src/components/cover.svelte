<script lang="ts">
	export let src: { type: 'nts' } | { type: 'spotify'; src: string | undefined };
</script>

{#if src.type === 'nts'}
	<svg
		class="root"
		width="32"
		height="32"
		viewBox="0 0 32 32"
		fill="none"
		xmlns="http://www.w3.org/2000/svg"
	>
		<path
			d="M27.9385 8.49231L27.4462 11.0769H25.6L26.2154 8.61539C26.3385 7.87692 26.3385 7.26154 25.4769 7.26154C24.6154 7.26154 24.2462 7.87692 24.1231 8.61539L23.6308 10.7077C23.5077 11.3231 23.5077 11.9385 23.6308 12.5538L25.3538 17.6C25.6 18.3385 25.7231 19.2 25.4769 20.0615L24.7385 23.2615C24.2462 25.1077 22.8923 26.2154 21.1692 26.2154C19.2 26.2154 18.3385 25.3538 18.8308 23.2615L19.4462 20.5538H21.2923L20.6769 23.1385C20.4308 24.1231 20.6769 24.6154 21.5385 24.6154C22.2769 24.6154 22.7692 24 23.0154 23.1385L23.6308 20.3077C23.7538 19.6923 23.7538 18.9538 23.5077 18.3385L21.9077 13.6615C21.6615 12.8 21.5385 12.1846 21.6615 11.0769L22.1538 8.61539C22.6462 6.64615 23.8769 5.66154 25.7231 5.66154C27.8154 5.66154 28.4308 6.64615 27.9385 8.49231ZM13.7846 25.9692L17.9692 7.38462H16L16.3692 5.78462H22.2769L21.9077 7.38462H19.8154L15.6308 25.9692H13.7846ZM8.24615 25.9692L9.96923 8.12308L5.90769 25.9692H4.30769L8.86154 5.90769H11.5692L9.84615 23.0154L13.7846 5.78462H15.3846L10.8308 25.9692H8.24615ZM0 32H32V0H0V32Z"
			fill="currentColor"
		/>
	</svg>
{:else}
	<div class="root">
		<img src={src.src || ''} alt="" />
		<svg
			class="spotify"
			width="16"
			height="16"
			viewBox="0 0 16 16"
			fill="none"
			xmlns="http://www.w3.org/2000/svg"
		>
			<rect x="0.5" y="0.5" width="15" height="15" rx="7.5" fill="var(--color-foreground)" />
			<path
				d="M2 7.98209C2 11.2776 4.71429 14 8 14C11.2857 14 14 11.2776 14 7.98209C14 4.68657 11.2857 2 8 2C4.71429 2 2 4.68657 2 7.98209ZM10.2143 10.7761C8.82143 9.91642 7.03571 9.70149 4.96429 10.1672C4.46429 10.2388 4.39286 9.52239 4.82143 9.45075C7.10714 8.91343 9.03571 9.16418 10.6071 10.1313C11 10.3821 10.6071 10.991 10.2143 10.7761ZM10.8214 9.16418C9.21429 8.16119 6.75 7.87463 4.85714 8.44776C4.25 8.62687 4.03571 7.69552 4.60714 7.55224C6.78571 6.90746 9.46429 7.22985 11.3214 8.37612C11.8214 8.69851 11.3214 9.48657 10.8214 9.16418ZM4.57143 6.6209C3.96429 6.83582 3.57143 5.79701 4.25 5.54627C6.35714 4.90149 9.92857 5.00896 12.1429 6.33433C12.75 6.65672 12.1786 7.6597 11.5357 7.30149C9.60714 6.15522 6.39286 6.04776 4.57143 6.6209Z"
				fill="var(--color-background)"
			/>
			<rect x="0.5" y="0.5" width="15" height="15" rx="7.5" stroke="var(--color-background)" />
		</svg>
	</div>
{/if}

<style lang="postcss">
	.root {
		flex-shrink: 0;
	}

	img {
		width: 32px;
		height: 32px;
		object-fit: cover;
		object-position: center;

		background-color: hsl(var(--color-foreground-hsl) / 0.1);
	}

	div {
		position: relative;
	}

	.spotify {
		position: absolute;
		bottom: -4px;
		right: -4px;
	}
</style>
